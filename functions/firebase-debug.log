[debug] [2023-02-17T22:14:58.088Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:14:58.089Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:14:58.089Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:14:58.089Z] Platform:      win32
[debug] [2023-02-17T22:14:58.089Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:14:58.090Z] Time:          Fri Feb 17 2023 23:14:58 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:14:58.090Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:14:58.137Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:14:58.137Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:14:58.137Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:14:58.139Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:14:58.139Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:14:58.139Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:14:58.794Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:14:58.794Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:14:58.794Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:14:58.794Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:14:59.368Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:14:59.368Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:14:59.371Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:14:59.602Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:14:59.602Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:14:59.604Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:14:59.604Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:14:59.605Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:14:59.605Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:14:59.605Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:14:59.606Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:14:59.606Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:14:59.606Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:00.371Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:15:00.372Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:15:00.397Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:15:00.397Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:15:00.400Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:15:00.400Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:15:00.414Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:15:00.415Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:15:00.415Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:15:00.682Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:15:00.682Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:15:00.682Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:15:00.921Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:15:00.921Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:15:00.922Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:15:01.765Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:15:01.765Z] Building nodejs source
[debug] [2023-02-17T22:15:01.766Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:15:01.773Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:15:01.928Z] Serving at port 8407

[debug] [2023-02-17T22:15:01.979Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:15:01.985Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55.01 KB) for uploading 
[debug] [2023-02-17T22:15:02.021Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:15:02.512Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:15:02.512Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:15:02.513Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:15:03.485Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:15:03.485Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:15:03.489Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:15:03.749Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:15:03.749Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:15:03.750Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:15:03.750Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:15:04.298Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:15:04.298Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673904&Signature=mxQFiZhK1sJ4b4Hk4ErLOsLVvx6weWYFdsdiMeeneZSOTRVHy9CXzP%2FNVvK1ANWDDdC6oZGPj5zsE7GgeHm2pd0IaPBn9MoNdJuRIPULWolpiTO8aXO6GkwMaJCt%2FTVm7JDiTvJglA6bIC%2BZHgmTxAo4x%2F8TEj6l3Ud0EgckW5hDtcmsVyBHyDWhWFnIuQ%2B%2BPAv5kCExcDk%2FS91ESaQZm6PFfk615qo8PkbMzroBNRHN95wJu12dqsBrIHBw6v17e0n%2FDei%2Ff3HFbAyv3fnsM77K%2B9wKBGYHyilr1IpyrmoROTob4FtlpzztJq2bC5tZ4VVBmP%2BgrzHTu8Tur6ZD2g%3D%3D"}
[debug] [2023-02-17T22:15:04.299Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673904&Signature=mxQFiZhK1sJ4b4Hk4ErLOsLVvx6weWYFdsdiMeeneZSOTRVHy9CXzP%2FNVvK1ANWDDdC6oZGPj5zsE7GgeHm2pd0IaPBn9MoNdJuRIPULWolpiTO8aXO6GkwMaJCt%2FTVm7JDiTvJglA6bIC%2BZHgmTxAo4x%2F8TEj6l3Ud0EgckW5hDtcmsVyBHyDWhWFnIuQ%2B%2BPAv5kCExcDk%2FS91ESaQZm6PFfk615qo8PkbMzroBNRHN95wJu12dqsBrIHBw6v17e0n%2FDei%2Ff3HFbAyv3fnsM77K%2B9wKBGYHyilr1IpyrmoROTob4FtlpzztJq2bC5tZ4VVBmP%2BgrzHTu8Tur6ZD2g%3D%3D
[debug] [2023-02-17T22:15:04.299Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip [stream]
[debug] [2023-02-17T22:15:04.551Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip 200
[debug] [2023-02-17T22:15:04.551Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:15:04.554Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:15:04.554Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/6cc1f45c-6bef-4253-8843-022405aa3c74.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673904&Signature=mxQFiZhK1sJ4b4Hk4ErLOsLVvx6weWYFdsdiMeeneZSOTRVHy9CXzP%2FNVvK1ANWDDdC6oZGPj5zsE7GgeHm2pd0IaPBn9MoNdJuRIPULWolpiTO8aXO6GkwMaJCt%2FTVm7JDiTvJglA6bIC%2BZHgmTxAo4x%2F8TEj6l3Ud0EgckW5hDtcmsVyBHyDWhWFnIuQ%2B%2BPAv5kCExcDk%2FS91ESaQZm6PFfk615qo8PkbMzroBNRHN95wJu12dqsBrIHBw6v17e0n%2FDei%2Ff3HFbAyv3fnsM77K%2B9wKBGYHyilr1IpyrmoROTob4FtlpzztJq2bC5tZ4VVBmP%2BgrzHTu8Tur6ZD2g%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"469d848c3578d0ebc97471e56aacd6b6b4e57f7e"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:15:04.855Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:15:04.855Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:15:04.859Z] Total Function Deployment time: 303
[debug] [2023-02-17T22:15:04.859Z] 1 Functions Deployed
[debug] [2023-02-17T22:15:04.859Z] 1 Functions Errored
[debug] [2023-02-17T22:15:04.859Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:15:04.859Z] Average Function Deployment time: 303
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:15:04.954Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:15:04.954Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:15:05.409Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:15:05.410Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:15:05.410Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:15:05.726Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:15:05.726Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:15:05.726Z] Functions deploy failed.
[debug] [2023-02-17T22:15:05.727Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "469d848c3578d0ebc97471e56aacd6b6b4e57f7e"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:15:05.822Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:15:22.628Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:15:22.629Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:15:22.629Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:15:22.630Z] Platform:      win32
[debug] [2023-02-17T22:15:22.630Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:15:22.630Z] Time:          Fri Feb 17 2023 23:15:22 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:15:22.630Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:15:22.682Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:15:22.683Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:15:22.683Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:15:22.684Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:15:22.684Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:22.685Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:15:23.338Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:15:23.338Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:15:23.338Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:15:23.338Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:15:23.918Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:15:23.918Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:15:23.921Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:15:24.144Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:15:24.144Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:15:24.146Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:15:24.146Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:24.147Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:15:24.147Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:24.148Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:15:24.148Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:24.148Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:15:24.148Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:15:24.947Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:15:24.947Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:15:24.950Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:15:24.950Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:15:24.952Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:15:24.952Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:15:24.996Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:15:24.996Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:15:24.996Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:15:25.255Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:15:25.255Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:15:25.255Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:15:25.565Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:15:25.565Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:15:25.566Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:15:26.369Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:15:26.369Z] Building nodejs source
[debug] [2023-02-17T22:15:26.369Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:15:26.376Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:15:26.519Z] Serving at port 8338

[debug] [2023-02-17T22:15:26.567Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:15:26.572Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55.02 KB) for uploading 
[debug] [2023-02-17T22:15:26.615Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:15:27.104Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:15:27.104Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:15:27.105Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:15:28.104Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:15:28.105Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:15:28.108Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:15:28.357Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:15:28.357Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:15:28.358Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:15:28.358Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:15:28.889Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:15:28.889Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673929&Signature=GEatJs5JbI7KL2v7up3tM7xSah9%2FkI8CteIBTnc%2FNZHrLXmCkbQ2eqxJJ6kzV7ZDAvAuslJrTVIVb0WorZSWkmkfbp7RkxGU0tIF97S8r5uW%2Fbi7o9FZ01y2WAjooAdh5QayaldmoRmLwQjG7TkXZpO1s6UxGBUF5sQTzV1auirFZTkeHr2C9UtqolhbDxftcUE58skX3rDdlSVX3xVssnJj3WvrlbRLYbkixvF0EALuzbxVHOHySnbEYMnwY6kZwsdD9kKo%2BUIu85y8nOWtUMWFyAqAQBI7HpWTZnPooftGEDTloBA8NvDiN%2FkAOD2tKzv8s9UVaNoJ6S%2FQ4nqMTw%3D%3D"}
[debug] [2023-02-17T22:15:28.890Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673929&Signature=GEatJs5JbI7KL2v7up3tM7xSah9%2FkI8CteIBTnc%2FNZHrLXmCkbQ2eqxJJ6kzV7ZDAvAuslJrTVIVb0WorZSWkmkfbp7RkxGU0tIF97S8r5uW%2Fbi7o9FZ01y2WAjooAdh5QayaldmoRmLwQjG7TkXZpO1s6UxGBUF5sQTzV1auirFZTkeHr2C9UtqolhbDxftcUE58skX3rDdlSVX3xVssnJj3WvrlbRLYbkixvF0EALuzbxVHOHySnbEYMnwY6kZwsdD9kKo%2BUIu85y8nOWtUMWFyAqAQBI7HpWTZnPooftGEDTloBA8NvDiN%2FkAOD2tKzv8s9UVaNoJ6S%2FQ4nqMTw%3D%3D
[debug] [2023-02-17T22:15:28.890Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip [stream]
[debug] [2023-02-17T22:15:29.153Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip 200
[debug] [2023-02-17T22:15:29.153Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:15:29.157Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:15:29.157Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/e0e988a3-d72b-49e3-bc0f-202805e9524e.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676673929&Signature=GEatJs5JbI7KL2v7up3tM7xSah9%2FkI8CteIBTnc%2FNZHrLXmCkbQ2eqxJJ6kzV7ZDAvAuslJrTVIVb0WorZSWkmkfbp7RkxGU0tIF97S8r5uW%2Fbi7o9FZ01y2WAjooAdh5QayaldmoRmLwQjG7TkXZpO1s6UxGBUF5sQTzV1auirFZTkeHr2C9UtqolhbDxftcUE58skX3rDdlSVX3xVssnJj3WvrlbRLYbkixvF0EALuzbxVHOHySnbEYMnwY6kZwsdD9kKo%2BUIu85y8nOWtUMWFyAqAQBI7HpWTZnPooftGEDTloBA8NvDiN%2FkAOD2tKzv8s9UVaNoJ6S%2FQ4nqMTw%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"eeb504e1311e0ca79dca2fcef137b0381a327170"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:15:29.456Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:15:29.456Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:15:29.460Z] Total Function Deployment time: 302
[debug] [2023-02-17T22:15:29.460Z] 1 Functions Deployed
[debug] [2023-02-17T22:15:29.460Z] 1 Functions Errored
[debug] [2023-02-17T22:15:29.460Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:15:29.460Z] Average Function Deployment time: 302
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:15:29.550Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:15:29.551Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:15:29.937Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:15:29.938Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:15:29.938Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:15:30.285Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:15:30.285Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:15:30.286Z] Functions deploy failed.
[debug] [2023-02-17T22:15:30.286Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "eeb504e1311e0ca79dca2fcef137b0381a327170"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:15:30.365Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:16:35.686Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:16:35.688Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:16:35.688Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:16:35.688Z] Platform:      win32
[debug] [2023-02-17T22:16:35.688Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:16:35.689Z] Time:          Fri Feb 17 2023 23:16:35 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:16:35.689Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:16:35.736Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:16:35.737Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:16:35.737Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:16:35.738Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:16:35.739Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:16:35.739Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:16:36.421Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:16:36.421Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:16:36.421Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:16:36.421Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:16:37.030Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:16:37.031Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:16:37.033Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:16:37.313Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:16:37.313Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:16:37.315Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:16:37.315Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:16:37.316Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:16:37.316Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:16:37.316Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:16:37.316Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:16:37.317Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:16:37.317Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:16:38.144Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:16:38.144Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:16:38.156Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:16:38.156Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:16:38.157Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:16:38.157Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:16:38.160Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:16:38.160Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:16:38.161Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:16:38.414Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:16:38.414Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:16:38.414Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:16:38.715Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:16:38.715Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:16:38.716Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:16:40.182Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:16:40.182Z] Building nodejs source
[debug] [2023-02-17T22:16:40.183Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:16:40.189Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:16:40.319Z] Serving at port 8492

[debug] [2023-02-17T22:16:40.366Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:16:40.371Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55.01 KB) for uploading 
[debug] [2023-02-17T22:16:40.406Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:16:40.948Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:16:40.948Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:16:40.949Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:16:41.931Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:16:41.931Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:16:41.934Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:16:42.186Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:16:42.186Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:16:42.187Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:16:42.187Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:16:42.695Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:16:42.695Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674003&Signature=V8SYt8U9tO38qHRQQ0W%2F%2FUKjv7asYyOgRarDh%2Fg8EwjNvBmywkv79jF9cGWUJ6u0yuWJhSYdJrAjz0QfosfKXiohwAZ4Iae8YLB19ZdJ9sss8aAoAaqEJWumZclPjG6eS%2F3eM4DpbP1YkbqTj1WTwrhZTxRiEVuYI5h9j0hbBEJmjfZL%2Bw9guvewATgRC6D4cDtYfOAM9%2BH4heuzc2ML29%2BIDZ%2F8mKzmGJGz0GRi9p%2B%2FyhiBXTcJFzsUuWQ4HDv4mcy4dTYqRQUXl3VpeQf9hL5M6%2FO50SxHze0SxH%2BNycUTBKf1K3i6vmLNNRBKERw9ZT1tN7%2BeYq0QnBuMFRUtvg%3D%3D"}
[debug] [2023-02-17T22:16:42.696Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674003&Signature=V8SYt8U9tO38qHRQQ0W%2F%2FUKjv7asYyOgRarDh%2Fg8EwjNvBmywkv79jF9cGWUJ6u0yuWJhSYdJrAjz0QfosfKXiohwAZ4Iae8YLB19ZdJ9sss8aAoAaqEJWumZclPjG6eS%2F3eM4DpbP1YkbqTj1WTwrhZTxRiEVuYI5h9j0hbBEJmjfZL%2Bw9guvewATgRC6D4cDtYfOAM9%2BH4heuzc2ML29%2BIDZ%2F8mKzmGJGz0GRi9p%2B%2FyhiBXTcJFzsUuWQ4HDv4mcy4dTYqRQUXl3VpeQf9hL5M6%2FO50SxHze0SxH%2BNycUTBKf1K3i6vmLNNRBKERw9ZT1tN7%2BeYq0QnBuMFRUtvg%3D%3D
[debug] [2023-02-17T22:16:42.696Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip [stream]
[debug] [2023-02-17T22:16:42.952Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip 200
[debug] [2023-02-17T22:16:42.952Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:16:42.955Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:16:42.955Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/01352239-6384-41a4-ac91-afc0bb741209.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674003&Signature=V8SYt8U9tO38qHRQQ0W%2F%2FUKjv7asYyOgRarDh%2Fg8EwjNvBmywkv79jF9cGWUJ6u0yuWJhSYdJrAjz0QfosfKXiohwAZ4Iae8YLB19ZdJ9sss8aAoAaqEJWumZclPjG6eS%2F3eM4DpbP1YkbqTj1WTwrhZTxRiEVuYI5h9j0hbBEJmjfZL%2Bw9guvewATgRC6D4cDtYfOAM9%2BH4heuzc2ML29%2BIDZ%2F8mKzmGJGz0GRi9p%2B%2FyhiBXTcJFzsUuWQ4HDv4mcy4dTYqRQUXl3VpeQf9hL5M6%2FO50SxHze0SxH%2BNycUTBKf1K3i6vmLNNRBKERw9ZT1tN7%2BeYq0QnBuMFRUtvg%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"80b3f36edb54af9f50a1c2ef6b445d6523b0f104"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:16:43.228Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:16:43.228Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:16:43.231Z] Total Function Deployment time: 275
[debug] [2023-02-17T22:16:43.231Z] 1 Functions Deployed
[debug] [2023-02-17T22:16:43.231Z] 1 Functions Errored
[debug] [2023-02-17T22:16:43.231Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:16:43.231Z] Average Function Deployment time: 274
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:16:43.329Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:16:43.329Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:16:43.772Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:16:43.772Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:16:43.773Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:16:44.109Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:16:44.110Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:16:44.110Z] Functions deploy failed.
[debug] [2023-02-17T22:16:44.110Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "80b3f36edb54af9f50a1c2ef6b445d6523b0f104"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:16:44.194Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:20:25.099Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:20:25.100Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:20:25.101Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:20:25.101Z] Platform:      win32
[debug] [2023-02-17T22:20:25.101Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:20:25.102Z] Time:          Fri Feb 17 2023 23:20:25 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:20:25.102Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:20:25.149Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:20:25.150Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:20:25.150Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:20:25.151Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:20:25.151Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:25.152Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:20:25.793Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:20:25.793Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:20:25.793Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:20:25.794Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:20:26.359Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:20:26.360Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:20:26.362Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:20:26.632Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:20:26.632Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:20:26.634Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:20:26.634Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:26.634Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:20:26.634Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:26.635Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:20:26.635Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:26.635Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:20:26.635Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:27.420Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:20:27.420Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:20:27.436Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:20:27.436Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:20:27.440Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:20:27.440Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:20:27.444Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:20:27.444Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:20:27.445Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:20:27.788Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:20:27.788Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:20:27.789Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:20:28.046Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:20:28.046Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:20:28.047Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:20:29.550Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:20:29.550Z] Building nodejs source
[debug] [2023-02-17T22:20:29.551Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:20:29.557Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:20:29.689Z] Serving at port 8815

[debug] [2023-02-17T22:20:29.736Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:20:29.741Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55 KB) for uploading 
[debug] [2023-02-17T22:20:29.777Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:20:30.274Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:20:30.274Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:20:30.275Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:20:31.282Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:20:31.282Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:20:31.286Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:20:31.504Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:20:31.504Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:20:31.505Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:20:31.505Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:20:32.074Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:20:32.074Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674232&Signature=QVRMiNyjIbgOMAEQXeTdHu4r%2FdksbM2hl6NcjZVnPFNCVylrzRZL3CYCC%2BentdfpEdpKvMFFvboSE198ka6PA5pPWHVYl5wNA85f30gEdidUGnM20Okg0NryAcrgEg00AcrJb71gJXnXH5K8as7vfExZkrtGNXGXQC%2Fk%2Fm8NWljFjEtNgTPswzP73pq6eAkeqO1mqYcMrZEG7Vngq38%2B8vH5MRc6hES3G%2FGovufoKPIEjy%2BdqrM9VsqexVqo5%2BYk8vyuxPWnI0AuFRaphuspaM%2Fj5eJNdMJnooVW4LxcXyfXh6ZWjUOUzOXM60dlXsDxL7IR8x4%2B3G4Q5WgdVWuIiw%3D%3D"}
[debug] [2023-02-17T22:20:32.075Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674232&Signature=QVRMiNyjIbgOMAEQXeTdHu4r%2FdksbM2hl6NcjZVnPFNCVylrzRZL3CYCC%2BentdfpEdpKvMFFvboSE198ka6PA5pPWHVYl5wNA85f30gEdidUGnM20Okg0NryAcrgEg00AcrJb71gJXnXH5K8as7vfExZkrtGNXGXQC%2Fk%2Fm8NWljFjEtNgTPswzP73pq6eAkeqO1mqYcMrZEG7Vngq38%2B8vH5MRc6hES3G%2FGovufoKPIEjy%2BdqrM9VsqexVqo5%2BYk8vyuxPWnI0AuFRaphuspaM%2Fj5eJNdMJnooVW4LxcXyfXh6ZWjUOUzOXM60dlXsDxL7IR8x4%2B3G4Q5WgdVWuIiw%3D%3D
[debug] [2023-02-17T22:20:32.075Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip [stream]
[debug] [2023-02-17T22:20:32.352Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip 200
[debug] [2023-02-17T22:20:32.352Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:20:32.355Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:20:32.355Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/2c784951-39b6-4946-be92-984727274e6d.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674232&Signature=QVRMiNyjIbgOMAEQXeTdHu4r%2FdksbM2hl6NcjZVnPFNCVylrzRZL3CYCC%2BentdfpEdpKvMFFvboSE198ka6PA5pPWHVYl5wNA85f30gEdidUGnM20Okg0NryAcrgEg00AcrJb71gJXnXH5K8as7vfExZkrtGNXGXQC%2Fk%2Fm8NWljFjEtNgTPswzP73pq6eAkeqO1mqYcMrZEG7Vngq38%2B8vH5MRc6hES3G%2FGovufoKPIEjy%2BdqrM9VsqexVqo5%2BYk8vyuxPWnI0AuFRaphuspaM%2Fj5eJNdMJnooVW4LxcXyfXh6ZWjUOUzOXM60dlXsDxL7IR8x4%2B3G4Q5WgdVWuIiw%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f3e001844d832926ddd04faaf4d92e49323f43d9"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:20:32.668Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:20:32.669Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:20:32.672Z] Total Function Deployment time: 316
[debug] [2023-02-17T22:20:32.672Z] 1 Functions Deployed
[debug] [2023-02-17T22:20:32.672Z] 1 Functions Errored
[debug] [2023-02-17T22:20:32.672Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:20:32.672Z] Average Function Deployment time: 315
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:20:32.761Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:20:32.761Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:20:33.250Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:20:33.250Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:20:33.250Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:20:33.529Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:20:33.529Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:20:33.529Z] Functions deploy failed.
[debug] [2023-02-17T22:20:33.529Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "f3e001844d832926ddd04faaf4d92e49323f43d9"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:20:33.617Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:20:44.981Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:20:44.982Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:20:44.983Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:20:44.983Z] Platform:      win32
[debug] [2023-02-17T22:20:44.983Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:20:44.984Z] Time:          Fri Feb 17 2023 23:20:44 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:20:44.984Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:20:45.030Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:20:45.030Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:20:45.030Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:20:45.032Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:20:45.032Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:45.032Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:20:45.688Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:20:45.689Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:20:45.689Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:20:45.689Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:20:46.293Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:20:46.293Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:20:46.296Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:20:46.556Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:20:46.556Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:20:46.558Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:20:46.558Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:46.558Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:20:46.558Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:46.559Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:20:46.559Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:46.559Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:20:46.560Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:20:47.340Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:20:47.340Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:20:47.359Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:20:47.360Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:20:47.380Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:20:47.380Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:20:47.399Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:20:47.399Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:20:47.400Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:20:47.645Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:20:47.645Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:20:47.645Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:20:47.958Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:20:47.958Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:20:47.959Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:20:48.754Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:20:48.755Z] Building nodejs source
[debug] [2023-02-17T22:20:48.755Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:20:48.761Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:20:48.891Z] Serving at port 8079

[debug] [2023-02-17T22:20:48.938Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:20:48.943Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55 KB) for uploading 
[debug] [2023-02-17T22:20:48.980Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:20:49.463Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:20:49.464Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:20:49.464Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:20:50.445Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:20:50.445Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:20:50.449Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:20:50.728Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:20:50.728Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:20:50.729Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:20:50.730Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:20:51.276Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:20:51.276Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674251&Signature=d3JEBlvzDYAZWbNCmFsZzJczrwHNqG%2Baen2QMWH4%2BKPYP0kNbZju5IjWJr0yJPzzW9OepNZWk6deiqxd7ZPCHQE1XOZQaGo30ScAsMyXy%2Bk9D0T0%2B4ECVK%2FGZcZp0ttIzRq%2FRXdlbf3DZElPwg%2BAGOf%2Fk3HeLvWoyLlj32ZmuGiT%2BlHjO8%2ByVkVdQnOL6%2FmSF3dFrLKtVz%2BikiEx46O8vac%2Ftx3lkkwICvvzSyZp56uVBLSbEdL4x8PPGqS3HLmCGqJHFAuZ4VzVuVhuMx5pEUnXXZkDhZgv1uoIMmL5drByBn%2BYYV7IfYZVfsgaGKWB3nW3NepFjqjR%2FaY3aSLUjQ%3D%3D"}
[debug] [2023-02-17T22:20:51.276Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674251&Signature=d3JEBlvzDYAZWbNCmFsZzJczrwHNqG%2Baen2QMWH4%2BKPYP0kNbZju5IjWJr0yJPzzW9OepNZWk6deiqxd7ZPCHQE1XOZQaGo30ScAsMyXy%2Bk9D0T0%2B4ECVK%2FGZcZp0ttIzRq%2FRXdlbf3DZElPwg%2BAGOf%2Fk3HeLvWoyLlj32ZmuGiT%2BlHjO8%2ByVkVdQnOL6%2FmSF3dFrLKtVz%2BikiEx46O8vac%2Ftx3lkkwICvvzSyZp56uVBLSbEdL4x8PPGqS3HLmCGqJHFAuZ4VzVuVhuMx5pEUnXXZkDhZgv1uoIMmL5drByBn%2BYYV7IfYZVfsgaGKWB3nW3NepFjqjR%2FaY3aSLUjQ%3D%3D
[debug] [2023-02-17T22:20:51.276Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip [stream]
[debug] [2023-02-17T22:20:51.530Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip 200
[debug] [2023-02-17T22:20:51.530Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:20:51.533Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:20:51.533Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/7e100fd3-bc85-4590-ba73-2bdcc5e1037c.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674251&Signature=d3JEBlvzDYAZWbNCmFsZzJczrwHNqG%2Baen2QMWH4%2BKPYP0kNbZju5IjWJr0yJPzzW9OepNZWk6deiqxd7ZPCHQE1XOZQaGo30ScAsMyXy%2Bk9D0T0%2B4ECVK%2FGZcZp0ttIzRq%2FRXdlbf3DZElPwg%2BAGOf%2Fk3HeLvWoyLlj32ZmuGiT%2BlHjO8%2ByVkVdQnOL6%2FmSF3dFrLKtVz%2BikiEx46O8vac%2Ftx3lkkwICvvzSyZp56uVBLSbEdL4x8PPGqS3HLmCGqJHFAuZ4VzVuVhuMx5pEUnXXZkDhZgv1uoIMmL5drByBn%2BYYV7IfYZVfsgaGKWB3nW3NepFjqjR%2FaY3aSLUjQ%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f3e001844d832926ddd04faaf4d92e49323f43d9"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:20:51.808Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:20:51.808Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:20:51.812Z] Total Function Deployment time: 277
[debug] [2023-02-17T22:20:51.812Z] 1 Functions Deployed
[debug] [2023-02-17T22:20:51.812Z] 1 Functions Errored
[debug] [2023-02-17T22:20:51.812Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:20:51.812Z] Average Function Deployment time: 277
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:20:51.901Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:20:51.902Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:20:52.316Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:20:52.316Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:20:52.316Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:20:52.678Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:20:52.678Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:20:52.678Z] Functions deploy failed.
[debug] [2023-02-17T22:20:52.678Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "f3e001844d832926ddd04faaf4d92e49323f43d9"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:20:52.765Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:23:18.380Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:23:18.381Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:23:18.381Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:23:18.382Z] Platform:      win32
[debug] [2023-02-17T22:23:18.382Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:23:18.382Z] Time:          Fri Feb 17 2023 23:23:18 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:23:18.382Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:23:18.429Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:23:18.430Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:23:18.430Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:23:18.431Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:23:18.431Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:23:18.431Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:23:19.132Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:23:19.133Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:23:19.133Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:23:19.133Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:23:19.732Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:23:19.732Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:23:19.735Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:23:20.000Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:23:20.000Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:23:20.002Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:23:20.002Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:23:20.003Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:23:20.003Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:23:20.003Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:23:20.003Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:23:20.004Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:23:20.004Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:23:20.844Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:23:20.844Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:23:20.845Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:23:20.845Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:23:20.849Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:23:20.849Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:23:20.898Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:23:20.898Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:23:20.898Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:23:21.264Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:23:21.264Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:23:21.264Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:23:21.527Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:23:21.527Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:23:21.529Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:23:22.315Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:23:22.315Z] Building nodejs source
[debug] [2023-02-17T22:23:22.316Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:23:22.322Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:23:22.455Z] Serving at port 8779

[debug] [2023-02-17T22:23:22.502Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:23:22.507Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (55 KB) for uploading 
[debug] [2023-02-17T22:23:22.542Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:23:23.068Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:23:23.068Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:23:23.069Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:23:24.061Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:23:24.061Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:23:24.065Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:23:24.300Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:23:24.300Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:23:24.301Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:23:24.301Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:23:24.902Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:23:24.902Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674405&Signature=e0fS0tZCSObaqHH%2F6dU11ltvD9tt9EbI%2Bhf95ntdkhRplIJTeVyAaT5lBPiBjJWx6ur4M05wSkCXY0thjUrN%2BdA38u%2BB8edp8ub6auoXfZ%2FlN0XTjq7RCKtleGzayxkR1VR0sq%2FmFVImnz6IExLEusSPWqxivAuvvXeZAE7naB8OvwOlOX1GLA8bFc5Q1XS4i5F%2B6tzd4BZgniWUGdcOzn%2BhBZjYFZ67UjEEr7VPP3ljglxXENKIGmU2pgRL4VtSlAixKQfBjV2gG15EkjImiieAIWSVKlpueV1KcwGgf0ODGU3X5EZZn0fCDF%2Bivxjo692OGIe9milxoKkVBMrv4w%3D%3D"}
[debug] [2023-02-17T22:23:24.903Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674405&Signature=e0fS0tZCSObaqHH%2F6dU11ltvD9tt9EbI%2Bhf95ntdkhRplIJTeVyAaT5lBPiBjJWx6ur4M05wSkCXY0thjUrN%2BdA38u%2BB8edp8ub6auoXfZ%2FlN0XTjq7RCKtleGzayxkR1VR0sq%2FmFVImnz6IExLEusSPWqxivAuvvXeZAE7naB8OvwOlOX1GLA8bFc5Q1XS4i5F%2B6tzd4BZgniWUGdcOzn%2BhBZjYFZ67UjEEr7VPP3ljglxXENKIGmU2pgRL4VtSlAixKQfBjV2gG15EkjImiieAIWSVKlpueV1KcwGgf0ODGU3X5EZZn0fCDF%2Bivxjo692OGIe9milxoKkVBMrv4w%3D%3D
[debug] [2023-02-17T22:23:24.903Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip [stream]
[debug] [2023-02-17T22:23:25.149Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip 200
[debug] [2023-02-17T22:23:25.149Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:23:25.152Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:23:25.152Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/733f6b8f-7360-4671-84d9-07a505f37f38.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674405&Signature=e0fS0tZCSObaqHH%2F6dU11ltvD9tt9EbI%2Bhf95ntdkhRplIJTeVyAaT5lBPiBjJWx6ur4M05wSkCXY0thjUrN%2BdA38u%2BB8edp8ub6auoXfZ%2FlN0XTjq7RCKtleGzayxkR1VR0sq%2FmFVImnz6IExLEusSPWqxivAuvvXeZAE7naB8OvwOlOX1GLA8bFc5Q1XS4i5F%2B6tzd4BZgniWUGdcOzn%2BhBZjYFZ67UjEEr7VPP3ljglxXENKIGmU2pgRL4VtSlAixKQfBjV2gG15EkjImiieAIWSVKlpueV1KcwGgf0ODGU3X5EZZn0fCDF%2Bivxjo692OGIe9milxoKkVBMrv4w%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f3e001844d832926ddd04faaf4d92e49323f43d9"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:23:25.472Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:23:25.472Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:23:25.476Z] Total Function Deployment time: 323
[debug] [2023-02-17T22:23:25.476Z] 1 Functions Deployed
[debug] [2023-02-17T22:23:25.476Z] 1 Functions Errored
[debug] [2023-02-17T22:23:25.476Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:23:25.476Z] Average Function Deployment time: 322
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:23:25.588Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:23:25.588Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:23:26.034Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:23:26.034Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:23:26.034Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:23:26.373Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:23:26.373Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:23:26.373Z] Functions deploy failed.
[debug] [2023-02-17T22:23:26.373Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "f3e001844d832926ddd04faaf4d92e49323f43d9"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:23:26.468Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
[debug] [2023-02-17T22:24:19.705Z] ----------------------------------------------------------------------
[debug] [2023-02-17T22:24:19.706Z] Command:       C:\Program Files\nodejs\node.exe C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\bin\firebase.js deploy --only functions
[debug] [2023-02-17T22:24:19.707Z] CLI Version:   11.22.0
[debug] [2023-02-17T22:24:19.707Z] Platform:      win32
[debug] [2023-02-17T22:24:19.707Z] Node Version:  v16.17.1
[debug] [2023-02-17T22:24:19.707Z] Time:          Fri Feb 17 2023 23:24:19 GMT+0100 (Central European Standard Time)
[debug] [2023-02-17T22:24:19.708Z] ----------------------------------------------------------------------
[debug] 
[debug] [2023-02-17T22:24:19.754Z] > command requires scopes: ["email","openid","https://www.googleapis.com/auth/cloudplatformprojects.readonly","https://www.googleapis.com/auth/firebase","https://www.googleapis.com/auth/cloud-platform"]
[debug] [2023-02-17T22:24:19.755Z] > authorizing via signed-in user (aephyxen@gmail.com)
[debug] [2023-02-17T22:24:19.755Z] [iam] checking project j1web-7dc6e for permissions ["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]
[debug] [2023-02-17T22:24:19.756Z] >>> [apiv2][query] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions [none]
[debug] [2023-02-17T22:24:19.756Z] >>> [apiv2][(partial)header] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:24:19.756Z] >>> [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:24:20.401Z] <<< [apiv2][status] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions 200
[debug] [2023-02-17T22:24:20.401Z] <<< [apiv2][body] POST https://cloudresourcemanager.googleapis.com/v1/projects/j1web-7dc6e:testIamPermissions {"permissions":["cloudfunctions.functions.create","cloudfunctions.functions.delete","cloudfunctions.functions.get","cloudfunctions.functions.list","cloudfunctions.functions.update","cloudfunctions.operations.get","firebase.projects.get"]}
[debug] [2023-02-17T22:24:20.401Z] >>> [apiv2][query] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions [none]
[debug] [2023-02-17T22:24:20.401Z] >>> [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[debug] [2023-02-17T22:24:20.983Z] <<< [apiv2][status] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions 200
[debug] [2023-02-17T22:24:20.983Z] <<< [apiv2][body] POST https://iam.googleapis.com/v1/projects/j1web-7dc6e/serviceAccounts/j1web-7dc6e@appspot.gserviceaccount.com:testIamPermissions {"permissions":["iam.serviceAccounts.actAs"]}
[info] 
[info] === Deploying to 'j1web-7dc6e'...
[info] 
[info] i  deploying functions 
[debug] [2023-02-17T22:24:20.986Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:24:21.252Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:24:21.252Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[info] i  functions: preparing codebase default for deployment 
[info] i  functions: ensuring required API cloudfunctions.googleapis.com is enabled... 
[info] i  functions: ensuring required API cloudbuild.googleapis.com is enabled... 
[info] i  artifactregistry: ensuring required API artifactregistry.googleapis.com is enabled... 
[debug] [2023-02-17T22:24:21.254Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [none]
[debug] [2023-02-17T22:24:21.254Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:24:21.255Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [none]
[debug] [2023-02-17T22:24:21.255Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:24:21.256Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [none]
[debug] [2023-02-17T22:24:21.256Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:24:21.256Z] >>> [apiv2][query] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [none]
[debug] [2023-02-17T22:24:21.256Z] >>> [apiv2][(partial)header] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com x-goog-quota-user=projects/j1web-7dc6e
[debug] [2023-02-17T22:24:22.081Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com 200
[debug] [2023-02-17T22:24:22.081Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudfunctions.googleapis.com [omitted]
[info] +  functions: required API cloudfunctions.googleapis.com is enabled 
[debug] [2023-02-17T22:24:22.082Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com 200
[debug] [2023-02-17T22:24:22.082Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/runtimeconfig.googleapis.com [omitted]
[debug] [2023-02-17T22:24:22.086Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com 200
[debug] [2023-02-17T22:24:22.087Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/cloudbuild.googleapis.com [omitted]
[info] +  functions: required API cloudbuild.googleapis.com is enabled 
[debug] [2023-02-17T22:24:22.114Z] <<< [apiv2][status] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com 200
[debug] [2023-02-17T22:24:22.114Z] <<< [apiv2][body] GET https://serviceusage.googleapis.com/v1/projects/j1web-7dc6e/services/artifactregistry.googleapis.com [omitted]
[info] +  artifactregistry: required API artifactregistry.googleapis.com is enabled 
[debug] [2023-02-17T22:24:22.114Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig [none]
[debug] [2023-02-17T22:24:22.378Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig 200
[debug] [2023-02-17T22:24:22.378Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e/adminSdkConfig {"projectId":"j1web-7dc6e","databaseURL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"}
[debug] [2023-02-17T22:24:22.378Z] >>> [apiv2][query] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs [none]
[debug] [2023-02-17T22:24:22.834Z] <<< [apiv2][status] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs 200
[debug] [2023-02-17T22:24:22.834Z] <<< [apiv2][body] GET https://runtimeconfig.googleapis.com/v1beta1/projects/j1web-7dc6e/configs {}
[debug] [2023-02-17T22:24:22.838Z] Validating nodejs source
[warn] !  functions: package.json indicates an outdated version of firebase-functions. Please upgrade using npm install --save firebase-functions@latest in your functions directory. 
[warn] !  functions: Please note that there will be breaking changes when you upgrade. 
[debug] [2023-02-17T22:24:24.262Z] > [functions] package.json contents: {
  "name": "functions",
  "description": "Cloud Functions for Firebase",
  "scripts": {
    "serve": "firebase emulators:start --only functions",
    "shell": "firebase functions:shell",
    "start": "npm run shell",
    "deploy": "firebase deploy --only functions",
    "logs": "firebase functions:log"
  },
  "engines": {
    "node": "16"
  },
  "main": "index.js",
  "dependencies": {
    "firebase-admin": "^10.0.2",
    "firebase-functions": "^3.18.0"
  },
  "devDependencies": {
    "firebase-functions-test": "^0.2.0"
  },
  "private": true
}
[debug] [2023-02-17T22:24:24.262Z] Building nodejs source
[debug] [2023-02-17T22:24:24.263Z] Could not find functions.yaml. Must use http discovery
[debug] [2023-02-17T22:24:24.269Z] Found firebase-functions binary at 'C:\Users\j\Documents\j1.wtf\functions\node_modules\.bin\firebase-functions'
[debug] [2023-02-17T22:24:24.406Z] Serving at port 8690

[debug] [2023-02-17T22:24:24.454Z] Got response from /__/functions.yaml {"endpoints":{"notificationLike":{"platform":"gcfv1","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","eventFilters":{"resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"retry":false},"labels":{},"entryPoint":"notificationLike"}},"specVersion":"v1alpha1","requiredAPIs":[]}
[debug] [2023-02-17T22:24:24.459Z] shutdown requested via /__/quitquitquit

[info] i  functions: preparing functions directory for uploading... 
[info] i  functions: packaged C:\Users\j\Documents\j1.wtf\functions (1.4 KB) for uploading 
[debug] [2023-02-17T22:24:24.484Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions [none]
[debug] [2023-02-17T22:24:24.968Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:24:24.968Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/-/functions {"functions":[{"name":"projects/j1web-7dc6e/locations/europe-west1/functions/ext-firestore-algolia-search-executeIndexOperation","description":"Firestore document-triggered function that creates, updates, or deletes data in Algolia.","sourceArchiveUrl":"gs://firebase-mod-sources-prod/0a50813c979c2b95076a5358d1e216bd475cd167fb22a693271cbba4282b66bc","eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.write","resource":"projects/j1web-7dc6e/databases/(default)/documents/Users/{documentID}","service":"firestore.googleapis.com","failurePolicy":{}},"status":"ACTIVE","entryPoint":"executeIndexOperation","timeout":"60s","availableMemoryMb":256,"serviceAccountEmail":"ext-firestore-algolia-search@j1web-7dc6e.iam.gserviceaccount.com","updateTime":"2023-02-09T19:48:39.561Z","versionId":"2","labels":{"firebase-extensions-ar":"enabled","goog-dm":"firebase-ext-firestore-algolia-search","goog-firebase-ext":"firestore-algolia-search","deployment-tool":"firebase-extensions","goog-firebase-ext-iid":"firestore-algolia-search"},"environmentVariables":{"ALGOLIA_APP_ID":"IDQGDUZ210","ALGOLIA_INDEX_NAME":"Users","COLLECTION_PATH":"Users","DATABASE_INSTANCE":"j1web-7dc6e-default-rtdb","DATABASE_URL":"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app","EXT_INSTANCE_ID":"firestore-algolia-search","FIELDS":"nickName","FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\"}","FORCE_DATA_SYNC":"yes","GCLOUD_PROJECT":"j1web-7dc6e","LOCATION":"europe-west1","PROJECT_ID":"j1web-7dc6e","STORAGE_BUCKET":"j1web-7dc6e.appspot.com"},"runtime":"nodejs10","maxInstances":3000,"ingressSettings":"ALLOW_INTERNAL_ONLY","buildId":"8baa28f4-c539-4a55-a53e-fe4766bd6d3f","secretEnvironmentVariables":[{"key":"ALGOLIA_API_KEY","projectId":"959529207160","secret":"firestore-algolia-search-ALGOLIA_API_KEY-lggg","version":"1"}],"buildName":"projects/959529207160/locations/europe-west1/builds/8baa28f4-c539-4a55-a53e-fe4766bd6d3f","dockerRegistry":"ARTIFACT_REGISTRY"}]}
[debug] [2023-02-17T22:24:24.968Z] >>> [apiv2][query] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions filter=environment%3D%22GEN_2%22
[debug] [2023-02-17T22:24:25.977Z] <<< [apiv2][status] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions 200
[debug] [2023-02-17T22:24:25.977Z] <<< [apiv2][body] GET https://cloudfunctions.googleapis.com/v2/projects/j1web-7dc6e/locations/-/functions {}
[debug] [2023-02-17T22:24:25.981Z] >>> [apiv2][query] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e [none]
[debug] [2023-02-17T22:24:26.232Z] <<< [apiv2][status] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e 200
[debug] [2023-02-17T22:24:26.233Z] <<< [apiv2][body] GET https://firebase.googleapis.com/v1beta1/projects/j1web-7dc6e {"projectId":"j1web-7dc6e","projectNumber":"959529207160","displayName":"j1web","name":"projects/j1web-7dc6e","resources":{"hostingSite":"j1web-7dc6e","realtimeDatabaseInstance":"j1web-7dc6e-default-rtdb","storageBucket":"j1web-7dc6e.appspot.com","locationId":"europe-west"},"state":"ACTIVE","etag":"1_d48b77fb-5468-4ead-b506-6e23678dd7bd"}
[debug] [2023-02-17T22:24:26.233Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl [none]
[debug] [2023-02-17T22:24:26.234Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {}
[debug] [2023-02-17T22:24:26.807Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl 200
[debug] [2023-02-17T22:24:26.807Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions:generateUploadUrl {"uploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674467&Signature=t4YoSRbzSSlzFqCFXjPpzCbWBD6fIPM7QCfoi5s2gzjpnq74xd2ybWnW0s8HyGCIy57u0w5xdTGST1RJigZ2BwIIL1hhpOYT6MUSUwB2MFuSxwqNdw7P4n5nhkHM66Pw%2FoDcej%2Fl5LU%2FUP0B7WaVt9va1grNDuylyBlNjzRt%2BXJjLNnTlZsxMV5ibbi8CQfUC8Q44EfoL4yKnKTWaLmY7oaF%2BZDfnmIuVupSVxDse9Ap5dc1mV9OiJzPNSqljwJGgxB%2FiGsxesiVEkrOeZR1s7SLf4ld6hG5d1pXH9WgwYCqpWm1g7%2FAiy7PuoCE%2FkY6ejykvNYpRoWUd1Y8rfNVcw%3D%3D"}
[debug] [2023-02-17T22:24:26.807Z] >>> [apiv2][query] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip GoogleAccessId=service-959529207160%40gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674467&Signature=t4YoSRbzSSlzFqCFXjPpzCbWBD6fIPM7QCfoi5s2gzjpnq74xd2ybWnW0s8HyGCIy57u0w5xdTGST1RJigZ2BwIIL1hhpOYT6MUSUwB2MFuSxwqNdw7P4n5nhkHM66Pw%2FoDcej%2Fl5LU%2FUP0B7WaVt9va1grNDuylyBlNjzRt%2BXJjLNnTlZsxMV5ibbi8CQfUC8Q44EfoL4yKnKTWaLmY7oaF%2BZDfnmIuVupSVxDse9Ap5dc1mV9OiJzPNSqljwJGgxB%2FiGsxesiVEkrOeZR1s7SLf4ld6hG5d1pXH9WgwYCqpWm1g7%2FAiy7PuoCE%2FkY6ejykvNYpRoWUd1Y8rfNVcw%3D%3D
[debug] [2023-02-17T22:24:26.807Z] >>> [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip [stream]
[debug] [2023-02-17T22:24:27.056Z] <<< [apiv2][status] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip 200
[debug] [2023-02-17T22:24:27.056Z] <<< [apiv2][body] PUT https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip [omitted]
[info] +  functions: functions folder uploaded successfully 
[info] i  functions: creating Node.js 16 function notificationLike(us-central1)... 
[debug] [2023-02-17T22:24:27.059Z] >>> [apiv2][query] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions [none]
[debug] [2023-02-17T22:24:27.059Z] >>> [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"name":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike","sourceUploadUrl":"https://storage.googleapis.com/uploads-1080023608803.us-central1.cloudfunctions.appspot.com/1685d362-7b9a-4225-b798-5abcfb6a408b.zip?GoogleAccessId=service-959529207160@gcf-admin-robot.iam.gserviceaccount.com&Expires=1676674467&Signature=t4YoSRbzSSlzFqCFXjPpzCbWBD6fIPM7QCfoi5s2gzjpnq74xd2ybWnW0s8HyGCIy57u0w5xdTGST1RJigZ2BwIIL1hhpOYT6MUSUwB2MFuSxwqNdw7P4n5nhkHM66Pw%2FoDcej%2Fl5LU%2FUP0B7WaVt9va1grNDuylyBlNjzRt%2BXJjLNnTlZsxMV5ibbi8CQfUC8Q44EfoL4yKnKTWaLmY7oaF%2BZDfnmIuVupSVxDse9Ap5dc1mV9OiJzPNSqljwJGgxB%2FiGsxesiVEkrOeZR1s7SLf4ld6hG5d1pXH9WgwYCqpWm1g7%2FAiy7PuoCE%2FkY6ejykvNYpRoWUd1Y8rfNVcw%3D%3D","entryPoint":"notificationLike","runtime":"nodejs16","dockerRegistry":"ARTIFACT_REGISTRY","labels":{"deployment-tool":"cli-firebase","firebase-functions-hash":"f40d54c1486570eb892f9c391e168c47ca7fb63e"},"eventTrigger":{"eventType":"providers/cloud.firestore/eventTypes/document.create","resource":"projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"},"environmentVariables":{"FIREBASE_CONFIG":"{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}","GCLOUD_PROJECT":"j1web-7dc6e","EVENTARC_CLOUD_EVENT_SOURCE":"projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"}}
[debug] [2023-02-17T22:24:27.315Z] <<< [apiv2][status] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions 400
[debug] [2023-02-17T22:24:27.316Z] <<< [apiv2][body] POST https://cloudfunctions.googleapis.com/v1/projects/j1web-7dc6e/locations/us-central1/functions {"error":{"code":400,"message":"The request has errors","status":"INVALID_ARGUMENT","details":[{"@type":"type.googleapis.com/google.rpc.BadRequest","fieldViolations":[{"field":"event_trigger","description":"Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"}]}]}}
[warn] !  functions: failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike 
[error] Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:24:27.319Z] Total Function Deployment time: 259
[debug] [2023-02-17T22:24:27.319Z] 1 Functions Deployed
[debug] [2023-02-17T22:24:27.319Z] 1 Functions Errored
[debug] [2023-02-17T22:24:27.319Z] 0 Function Deployments Aborted
[debug] [2023-02-17T22:24:27.319Z] Average Function Deployment time: 258
[info] 
[info] Functions deploy had errors with the following functions:
	notificationLike(us-central1)
[info] i  functions: cleaning up build files... 
[debug] [2023-02-17T22:24:27.421Z] >>> [apiv2][query] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like [none]
[debug] [2023-02-17T22:24:27.422Z] >>> [apiv2][query] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list [none]
[debug] [2023-02-17T22:24:27.849Z] <<< [apiv2][status] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list 200
[debug] [2023-02-17T22:24:27.849Z] <<< [apiv2][body] GET https://us.gcr.io/v2/j1web-7dc6e/gcf/us-central1/tags/list {"child":[],"manifest":{},"name":"j1web-7dc6e/gcf/us-central1","tags":[]}
[debug] [2023-02-17T22:24:27.849Z] Could not find image for function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike
[debug] [2023-02-17T22:24:28.156Z] <<< [apiv2][status] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like 404
[debug] [2023-02-17T22:24:28.156Z] <<< [apiv2][body] DELETE https://artifactregistry.googleapis.com/v1beta2/projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like {"error":{"code":404,"message":"Package \"projects/j1web-7dc6e/locations/us-central1/repositories/gcf-artifacts/packages/notification_like\" was not found.","status":"NOT_FOUND"}}
[debug] [2023-02-17T22:24:28.156Z] Functions deploy failed.
[debug] [2023-02-17T22:24:28.156Z] {
  "endpoint": {
    "id": "notificationLike",
    "project": "j1web-7dc6e",
    "region": "us-central1",
    "entryPoint": "notificationLike",
    "platform": "gcfv1",
    "runtime": "nodejs16",
    "eventTrigger": {
      "eventType": "providers/cloud.firestore/eventTypes/document.create",
      "retry": false,
      "eventFilters": {
        "resource": "projects/j1web-7dc6e/databases/(default)/documents/Posts/{PostId}/Likes"
      }
    },
    "labels": {
      "deployment-tool": "cli-firebase"
    },
    "environmentVariables": {
      "FIREBASE_CONFIG": "{\"projectId\":\"j1web-7dc6e\",\"databaseURL\":\"https://j1web-7dc6e-default-rtdb.asia-southeast1.firebasedatabase.app\",\"storageBucket\":\"j1web-7dc6e.appspot.com\",\"locationId\":\"europe-west\"}",
      "GCLOUD_PROJECT": "j1web-7dc6e",
      "EVENTARC_CLOUD_EVENT_SOURCE": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "codebase": "default",
    "targetedByOnly": false,
    "hash": "f40d54c1486570eb892f9c391e168c47ca7fb63e"
  },
  "op": "create",
  "original": {
    "name": "FirebaseError",
    "children": [],
    "context": {
      "function": "projects/j1web-7dc6e/locations/us-central1/functions/notificationLike"
    },
    "exit": 1,
    "message": "Failed to create function projects/j1web-7dc6e/locations/us-central1/functions/notificationLike",
    "original": {
      "name": "FirebaseError",
      "children": [],
      "context": {
        "body": {
          "error": {
            "code": 400,
            "message": "The request has errors",
            "status": "INVALID_ARGUMENT",
            "details": [
              {
                "@type": "type.googleapis.com/google.rpc.BadRequest",
                "fieldViolations": [
                  {
                    "field": "event_trigger",
                    "description": "Expected value Posts/{PostId}/Likes to match regular expression [^/]+/[^/]+(/[^/]+/[^/]+)*"
                  }
                ]
              }
            ]
          }
        },
        "response": {
          "statusCode": 400
        }
      },
      "exit": 1,
      "message": "HTTP Error: 400, The request has errors",
      "status": 400
    },
    "status": 500
  }
}
[debug] [2023-02-17T22:24:28.245Z] Error: Failed to create function notificationLike in region us-central1
    at C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:48:11
    at runMicrotasks (<anonymous>)
    at processTicksAndRejections (node:internal/process/task_queues:96:5)
    at async Fabricator.createV1Function (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:177:32)
    at async Fabricator.createEndpoint (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:129:13)
    at async handle (C:\Users\j\AppData\Roaming\npm\node_modules\firebase-tools\lib\deploy\functions\release\fabricator.js:85:17)
[error] 
[error] Error: There was an error deploying functions
